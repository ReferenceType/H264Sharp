<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Condition="'$(RuntimeIdentifier)' != ''">
    <!-- When a specific RID is provided -->
    <None Include="$(MSBuildThisFileDirectory)..\runtimes\$(RuntimeIdentifier)\**\*.*"
          Link="%(Filename)%(Extension)"
          CopyToOutputDirectory="PreserveNewest"
          Visible="false" />
  </ItemGroup>

  <ItemGroup Condition="'$(RuntimeIdentifier)' == '' AND '$([System.Runtime.InteropServices.RuntimeInformation]::IsOSPlatform($([System.Runtime.InteropServices.OSPlatform]::Windows)))' == 'true'">
    <!-- Windows specific (x64, x86, arm64) -->
    <None Include="$(MSBuildThisFileDirectory)..\runtimes\win-x64\**\*.*"
          Condition="'$(Platform)' == 'x64' OR '$(Platform)' == 'AnyCPU'"
          Link="%(Filename)%(Extension)"
          CopyToOutputDirectory="PreserveNewest"
          Visible="false" />
    <None Include="$(MSBuildThisFileDirectory)..\runtimes\win-x86\**\*.*"
          Condition="'$(Platform)' == 'x86'"
          Link="%(Filename)%(Extension)"
          CopyToOutputDirectory="PreserveNewest"
          Visible="false" />
    <None Include="$(MSBuildThisFileDirectory)..\runtimes\win-arm64\**\*.*"
          Condition="'$(Platform)' == 'ARM64'"
          Link="%(Filename)%(Extension)"
          CopyToOutputDirectory="PreserveNewest"
          Visible="false" />
  </ItemGroup>

  <ItemGroup Condition="'$(RuntimeIdentifier)' == '' AND '$([System.Runtime.InteropServices.RuntimeInformation]::IsOSPlatform($([System.Runtime.InteropServices.OSPlatform]::Linux)))' == 'true'">
    <!-- Linux specific -->
    <None Include="$(MSBuildThisFileDirectory)..\runtimes\linux-x64\**\*.*"
          Link="%(Filename)%(Extension)"
          CopyToOutputDirectory="PreserveNewest"
          Visible="false" />
  </ItemGroup>

  <ItemGroup Condition="'$(RuntimeIdentifier)' == '' AND '$([System.Runtime.InteropServices.RuntimeInformation]::IsOSPlatform($([System.Runtime.InteropServices.OSPlatform]::OSX)))' == 'true'">
    <!-- macOS specific -->
    <None Include="$(MSBuildThisFileDirectory)..\runtimes\osx-x64\**\*.*"
          Link="%(Filename)%(Extension)"
          CopyToOutputDirectory="PreserveNewest"
          Visible="false" />
  </ItemGroup>

  <!-- For Xamarin.Android projects -->
  <ItemGroup Condition="'$(TargetFrameworkIdentifier)' == 'MonoAndroid'">
    <!-- Android arm64-v8a (64-bit ARM) -->
    <None Include="$(MSBuildThisFileDirectory)..\runtimes\android-arm64\**\*.*"
          Link="libs\arm64-v8a\%(Filename)%(Extension)"
          CopyToOutputDirectory="PreserveNewest"
          Visible="false" />
    <!-- Android armeabi-v7a (32-bit ARM) -->
    <None Include="$(MSBuildThisFileDirectory)..\runtimes\android-arm\**\*.*"
          Link="libs\armeabi-v7a\%(Filename)%(Extension)"
          CopyToOutputDirectory="PreserveNewest"
          Visible="false" />
    <!-- Android x86 (32-bit x86) -->
    <None Include="$(MSBuildThisFileDirectory)..\runtimes\android-x86\**\*.*"
          Link="libs\x86\%(Filename)%(Extension)"
          CopyToOutputDirectory="PreserveNewest"
          Visible="false" />
    <!-- Android x86_64 (64-bit x86) -->
    <None Include="$(MSBuildThisFileDirectory)..\runtimes\android-x64\**\*.*"
          Link="libs\x86_64\%(Filename)%(Extension)"
          CopyToOutputDirectory="PreserveNewest"
          Visible="false" />
  </ItemGroup>

  <!-- For .NET MAUI / modern .NET Android projects -->
  <ItemGroup Condition="'$(TargetFrameworkIdentifier)' == 'net' AND '$(TargetPlatformIdentifier)' == 'android'">
    <!-- Android arm64-v8a (64-bit ARM) -->
    <None Include="$(MSBuildThisFileDirectory)..\runtimes\android-arm64\**\*.*"
          Link="Platforms\Android\jniLibs\arm64-v8a\%(Filename)%(Extension)"
          CopyToOutputDirectory="PreserveNewest"
          Visible="true" />
    <!-- Android armeabi-v7a (32-bit ARM) -->
    <None Include="$(MSBuildThisFileDirectory)..\runtimes\android-arm\**\*.*"
          Link="Platforms\Android\jniLibs\armeabi-v7a\%(Filename)%(Extension)"
          CopyToOutputDirectory="PreserveNewest"
          Visible="true" />
    <!-- Android x86 (32-bit x86) -->
    <None Include="$(MSBuildThisFileDirectory)..\runtimes\android-x86\**\*.*"
          Link="Platforms\Android\jniLibs\x86\%(Filename)%(Extension)"
          CopyToOutputDirectory="PreserveNewest"
          Visible="true" />
    <!-- Android x86_64 (64-bit x86) -->
    <None Include="$(MSBuildThisFileDirectory)..\runtimes\android-x64\**\*.*"
          Link="Platforms\Android\jniLibs\x86_64\%(Filename)%(Extension)"
          CopyToOutputDirectory="PreserveNewest"
          Visible="true" />
  </ItemGroup>
</Project>